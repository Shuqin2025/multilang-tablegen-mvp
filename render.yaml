services:
  # 后端：Node Web Service
  - type: web
    name: tablegen-backend
    env: node
    rootDir: .
    plan: professional            # 你是专业版就保留；免费版填 free 也可以
    buildCommand: npm install     # 这里原来是 npm ci，改成 npm install
    startCommand: node server.js
    envVars: []

  # 前端：静态站点（Vite 构建产物）
  - type: static
    name: tablegen-frontend
    rootDir: .
    buildCommand: npm install && npm run build   # 也改成 npm install
    staticPublishPath: dist
    envVars:
      - key: VITE_API_BASE
        fromService:
          type: web
          name: tablegen-backend
          property: host         # 你之前用过 host；如果想拿完整 URL 用 url

